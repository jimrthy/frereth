---
# This is an annoying time sink when I'm debugging, but it's
# pretty vital when it comes to actual usage
- name: Update/upgrade repo cache
  sudo: True
  # Keep the cache around for (* 60 60 24) == 1 day because it gets
  # really annoying sitting around waiting on it.
  apt: update_cache=yes upgrade=dist cache_valid_time=86400

- name: Install absolute must-have packages  
  sudo: True
  apt: name={{item}} state=latest
  # N.B. These names are really ubuntu-specific.
  # TODO: I should really be doing this on arch linux.
  # Except that it doesn't play well with OpenStack.
  with_items:
    - autoconf
    - emacs
    - g++
    - gettext
    - git
    - gnupg2
    - libgl1-mesa-dev
    - libtool
    - libxcursor-dev
    - libxi-dev
    - libxinerama-dev
    - libxrandr-dev
    - man-db
    - maven2
    - mesa-utils
    # TODO: Figure out a good way to keep this updated
    - nvidia-331-uvm
    # Would be using this if I were building a server.
    # Which, mostly, I am.
    # TODO: Split this up to build multiple machines
    # for differences in details like this.
    # Very specifically, the renderer isn't headless.
    # Then again...that should probably run natively
    - openjdk-7-jdk
    - pkg-config
    - python-dev
    - python-pip
    - ssh
    - tmux
    - vim
    - virtualenvwrapper
    - xserver-xorg-input-kbd
    - xserver-xorg-input-mouse
    - zsh
