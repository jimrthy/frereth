# This will probably break the latest approach
# Needs the same sort of lovin' as build-sodium/0mq vs install-sodium/0mq
- name: globally install C wrapper
  sudo: yes
  command: make install chdir=/home/jimrthy/projects/jzmq

- name: Ensure future steps can find that piece
  sudo: yes
  command: ldconfig

# Note that this will probably fail from ansible: it needs manual
# intervention to enter the GPG password
- name: Install to local maven repository
  change_user: jimrthy
  command: mvn package install chdir=/home/jimrthy/projects/jzmq

# Q: Is there a real ansible task for this?
# Note that this makes a lot of assumptions about arch, but I'm
# not sure there's a reasonable way to avoid that
- name: Install Native
  command: cp /home/jimrthy/projects/lwjgl3/bin/linux/x64/lwjgl.so /usr/local/lib
# Q: Do I need to run ldconfig again?
